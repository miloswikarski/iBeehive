<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>iBeehive</title>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

  <link rel="stylesheet" href="css/bootstrap.css">

  <script src="cordova.js"></script>          <!-- "Phantom" cordova.js required for projects that use plugins -->
  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="bower_components/i18next/i18next.min.js"></script>
  <script src="bower_components/jquery-i18next/jquery-i18next.min.js"></script>
  <script type="text/javascript" src="js/fastclick.js"></script>
  <script src="js/jquery.knob.min.js" type="text/javascript"></script>
  <script src="js/pouchdb-6.4.1.min.js" type="text/javascript"></script>


  <!-- Custom -->
  <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />
  <link rel="stylesheet" type="text/css" href="css/base.css" />

</head>
<body>



  <div class="container"><!-- all pages -->


    <!-- menu -->
    <nav class="navbar navbar-collapse navbar-dark fixed-top bg-dark">
      <a class="navbar-brand" href="#"><img  style="max-width:50px;" src="css/icon.png"> iBeehive</a>

      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="navbar-collapse collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="text-center">
            <button class="btn btn-warning" data-toggle="collapse" data-target=".navbar-collapse.show"  id="refreshButton" type="button">
              <i class="fa fa-undo"></i> Rescan...
            </button>
          </li>
          <li>
                &nbsp;
          </li>
          <li>
                <div class="card-body d-flex w-100 justify-content-between">
                <input  id="messageInput" class="form-control mr-sm-2" type="text" placeholder="Data to send..." aria-label="Search">
                <button id="sendButton" class="btn btn-outline-success my-2 my-sm-0">Send</button>
                </div>
          </li>
          <li class="text-center">
                <button id="settingButton" class="btn btn-success" data-toggle="modal" data-target="#settingsModal"><i class="fa fa-cogs"></i> Settings</button>
          <li>
                &nbsp;
          </li>

          </li>
          <li class="text-center">
                <button id="aboutButton" class="btn btn-primary" data-toggle="modal" data-target="#aboutModal"><i class="fa fa-info-circle"></i> About iBeehive</button>
          </li>
          <li>
                &nbsp;
          </li>


        </ul>
      </div>
    </nav>


    <!-- status info -->
    <div class="row col-lg-12"><label id="mainStatus">Initializing...</label></div>


    <!-- init scanning page -->

    <div class="row" id="notFoundInfo">
      <div class="col-lg-12">
        <h2 data-i18n="scanning">Scanning... not found yet</h2>
        <p>iBeehive app is searching for all smart bluetooth devices around you. If you are near iBeehive device, you will be able to connect to this device and see actual and historical data.</p>
      </div>
    </div>

    <div id="mainPage">
      <div class="row col-lg-12"><h4 id="iFound">iBeehive(s) found!</h4></div>
      <div id="deviceList">                    
      </div>
    </div>

    <!-- detail -->

    <div id="detailPage" class="">
      <div id="resultDiv" class="row"></div>

      <div class="card bg-white justify-content-between">
      <div class="card-header row">
        <div class="col-sm-10 text-danger" id="detailName"></div>
        <span class="fa-stack fa-lg float-right col-sm-1" id="linked">
        <i class="fa fa-link text-success"></i>
        </span>
        <span class="fa-stack fa-lg float-right col-sm-1" id="unlinked">
        <i class="fa fa-unlink text-danger"></i>
        </span>
      </div>
      <div class="card-body row text-secondary">
<!--        <h2 class="float-left"  id="nettoVahaTitle"></h2> -->
        <span class="fa-stack fa-1x float-right col-sm-1">
        <i class="fa fa-balance-scale text-right"></i>
        </span>
        <h1 class="text-left col-sm-10" id="nettoVaha">
                    <div class="loader"></div>
        </h1>
        <div class="progress d-flex w-100">
          <div id="weightProgress" class="progress-bar progress-bar-striped progress-bar-animated text-success" role="progressbar" aria-valuenow="79" aria-valuemin="0" aria-valuemax="300" style="width: 79%">79% max</div>
        </div>

      </div>
      <div class="card-body row">
        <span class="fa-stack fa-lg col-sm-1 text-primary">
        <i class="fa fa-thermometer-half"></i>
        </span>
      <div class="col-sm-5 text-primary">
        <span class="float-left"  id="tempInTitle"></span>
        <H1 class="float-right" id="tempIn">
          <div class="loader"></div>
        </H1>
      </div>
      <span class="fa-stack fa-lg col-sm-1 text-success">
        <i class="fa fa-thermometer-full"></i>
        </span>
      <div class="col-sm-5 text-success">
        <span class="float-left"  id="tempOutTitle"></span>
        <H1 class="float-right text-success" id="tempOut">
                    <div class="loader"></div>
        </H1>
      </div>
      </div>


      </div>


      <div class="card bg-white">
      <div class="card-body row">
      <canvas id="weightChart" class="col-sm-6 mh-150"></canvas>
      <canvas id="tempChart" class="col-sm-6 mh-150"></canvas>
      </div>
      </div>


      <!-- SAVE AND DISCONNECT BTNS -->

    <div class="wrapper text-center">

      <div>&nbsp;</div>


      <div class="btn-group" role="group" aria-label="iBeehive actions">

      <button id="disconnectButton" class="btn btn-success"><i class="fa fa-unlink"></i> Disconnect</button>

      <button id="saveButton" class="btn btn-primary" data-toggle="modal" data-target="#infoModal"><i class="fa fa-archive"></i> Save data</button>

      <button id="historyButton" class="btn btn-secondary" data-toggle="modal" data-target="#historyModal"><i class="fa fa-history"></i> History</button>

      </div>
    </div>


      <!-- Save alert dialog box -->

      <!-- Modal -->
      <div class="modal fade" id="historyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">History values</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" id="historyBody">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal INFO -->
      <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="infoModalLabel">Actual values</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              Actual values saved
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>


      <!-- Modal ABOUT -->
      <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="About iBeehive" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="aboutTitle">About iBeehive</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" id="aboutBody">
              iBeehive is application used for smart bee weight products by Alya Ltd. You can find more on <a href="https://www.alya.sk">www.alya.sk</a>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>


      <!-- Modal SETTINGS -->
      <div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="About iBeehive" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="settingsTitle">Settings</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" id="settingsBody">
              All set :)
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>



      <div id="dataDiv">&nbsp;</div>
    </div>


  </div>


  <script type="text/javascript" src="js/Chart.bundle.min.js"></script>
  <script type="text/javascript" src="js/dbapp.js"></script>
  <script type="text/javascript" src="js/app.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
  <script type="text/javascript">
    app.initialize();
    beedb.initialize();
  </script>

</body>
</html>
